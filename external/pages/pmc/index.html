<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="../assets/favicon.ico">

  <title>Elasticsearch Nightly Benchmarks</title>

  <!-- Bootstrap core CSS -->
  <link href="../assets/css/Supernice.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="../assets/css/navbar-fixed-top.css" rel="stylesheet">
  <link href="../assets/css/charts.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

  <script type="text/javascript">
var charts = {
  init: function() {
    var annotationSource = false;

    charts.indexingThroughput = chartingLib.renderChart('indexing_throughput', 'Indexing throughput', 'Mean Throughput [docs/s]', 'indexing_throughput_annotations.json');
    charts.totalTimes = chartingLib.renderChart('indexing_total_times', 'Total times', 'Time [min]', annotationSource);
    charts.segmentMemory = chartingLib.renderChart('segment_total_memory', 'Segment total heap used', 'Heap used [MB]', annotationSource);
    charts.cpuUsage = chartingLib.renderChart('indexing_cpu_usage', 'Indexing CPU usage', 'CPU usage [%]', 'indexing_cpu_usage_annotations.json')
    charts.diskUsage = chartingLib.renderChart('disk_usage', 'Index disk usage', '[GB]', annotationSource),
    charts.segmentCounts = chartingLib.renderChart('segment_counts', 'Index segment counts', 'Segment count', 'segment_counts_annotations.json'),
    charts.queryLatency = chartingLib.renderChart('search_latency_queries', 'Search Latency', '99th Percentile Latency [ms]', 'search_latency_queries_annotations.json'),
    charts.statsLatency = chartingLib.renderChart('search_latency_stats', 'Stats Latency', '99th Percentile Latency [ms]', 'search_latency_stats_annotations.json'),
    charts.gcTimes = chartingLib.renderChart('gc_times', 'GC times', 'Total GC runtime [s]', 'gc_times_annotations.json')

    chartingLib.synchronize([
      charts.indexingThroughput,
      charts.totalTimes,
      charts.segmentMemory,
      charts.cpuUsage,
      charts.diskUsage,
      charts.segmentCounts,
      charts.queryLatency,
      charts.statsLatency,
      charts.gcTimes
    ]);
  }
}
  </script>
</head>

<body>

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Elasticsearch Nightly Benchmarks</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="../geonames/index.html">Geonames</a></li>
        <li><a href="../geopoint/index.html">Geopoint</a></li>
        <li><a href="../percolator/index.html">Percolator</a></li>
        <li class="dropdown active">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">PMC <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="#indexing_throughput">Indexing Throughput</a></li>
            <li><a href="#indexing_total_times">Total times</a></li>
            <li><a href="#segment_total_memory">Segment total heap used</a></li>
            <li><a href="#indexing_cpu_usage">Indexing CPU usage</a></li>
            <li><a href="#disk_usage">Index disk usage</a></li>
            <li><a href="#segment_counts">Index segment counts</a></li>
            <li><a href="#search_latency_queries">Search Latency</a></li>
            <li><a href="#search_latency_stats">Stats Latency</a></li>
            <li><a href="#gc_times">GC times</a></li>
          </ul>
        </li>
      </ul>
      <!--
      <ul class="nav navbar-nav navbar-right">
        <li><a href="../navbar/">Default</a></li>
        <li><a href="../navbar-static-top/">Static top</a></li>
        <li class="active"><a href="./">Fixed top</a></li>
      </ul>
      -->
    </div><!--/.nav-collapse -->
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h3>Overview</h3>
      <p>The PMC data set contains scientific papers from <a href="https://www.ncbi.nlm.nih.gov/pmc/">PubMed Central &reg;</a> (PMC). We use it to evaluate the performance of Elasticsearch for full-text content. We run the following variations (which we call "challenges" in Rally):</p>
      <ul>
        <li><strong>Append</strong>: Indexes the whole document corpus using Elasticsearch default settings. We only adjust the number of replicas as we benchmark a single node cluster and Rally will only start the benchmark if the cluster turns green. Document ids are unique so all index operations are append only. After that a couple of queries are run in parallel by multiple clients.</li>
        <li><strong>Append Fast</strong>: Indexes the whole document corpus using a setup that will lead to a larger indexing throughput than the default settings. Document ids are unique so all index operations are append only.</li>
        <li><strong>Id Conflicts</strong>: Indexes the whole document corpus using a setup that will lead to a larger indexing throughput than the default settings. Rally will produce duplicate ids in 25% of all documents (not configurable) so we can simulate a scenario with appends most of the time and some updates in between.</li>
      </ul>
      <p>The benchmarks are run either for an out of the box configuration of Elasticsearch ("default settings") or with a larger heap of 4GB ("4g heap"). For more details please refer to the <a href="https://github.com/elastic/rally-tracks/blob/master/pmc/track.json">PMC track specification</a> and have a look at our <a href="../index.html">benchmarking methodology</a>).</p>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h3>Results</h3>
      <div class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Hint</strong> Click and drag to zoom. Double-click to zoom out.
      </div>
      <div class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Hint</strong> Click a data point to see the diff between it and the previous race.
      </div>
    </div>
  </div>

  <div class="row">
    <!-- weird, dygraph needs label div *before* the graph in the DOM, otherwise it will not work -->
    <div class="col-md-2 col-md-push-10">
      <div id="chart_indexing_throughput_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="indexing_throughput" id="indexing_throughput"></a>
      <div id="chart_indexing_throughput" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_indexing_total_times_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="indexing_total_times" id="indexing_total_times"></a>
      <div id="chart_indexing_total_times" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_segment_total_memory_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="segment_total_memory" id="segment_total_memory"></a>
      <div id="chart_segment_total_memory" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_indexing_cpu_usage_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="indexing_cpu_usage" id="indexing_cpu_usage"></a>
      <div id="chart_indexing_cpu_usage" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_disk_usage_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="disk_usage" id="disk_usage"></a>
      <div id="chart_disk_usage" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_segment_counts_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="segment_counts" id="segment_counts"></a>
      <div id="chart_segment_counts" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_search_latency_queries_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="search_latency_queries" id="search_latency_queries"></a>
      <div id="chart_search_latency_queries" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_search_latency_stats_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="search_latency_stats" id="search_latency_stats"></a>
      <div id="chart_search_latency_stats" class="benchmark-chart"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2 col-md-push-10">
      <div id="chart_gc_times_labels"></div>
    </div>
    <div class="col-md-10 col-md-pull-2">
      <a name="gc_times" id="gc_times"></a>
      <div id="chart_gc_times" class="benchmark-chart"></div>
    </div>
  </div>

</div> <!-- /container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../assets/js/dygraph-combined.js"></script>
<script type="text/javascript" src="../assets/js/synchronizer.js"></script>
<script type="text/javascript" src="../assets/js/charts.js"></script>
<script>
  $(document).ready(charts.init);
</script>
</body>
</html>
