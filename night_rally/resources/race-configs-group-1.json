[
  {
    "track": "geonames",
    "placement": 1,
    "flavors": [
      {
        "name": "default",
        "licenses": [
          {
            "name": "basic",
            "configurations": [
              {
                "#COMMENT": "We need to start with a configuration where we build all candidates on all machines as we skip the build step afterwards",
                "name": "geonames-append-4g-3nodes",
                "label": "add-4g-3nodes",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 1
                },
                "car": "4gheap",
                "node-count": 3
              },
              {
                "name": "geonames-append-defaults-1node",
                "label": "add-defaults",
                "charts": [
                  "indexing",
                  "query",
                  "gc",
                  "io"
                ],
                "challenge": "append-no-conflicts",
                "track-params": {
                  "max_num_segments": 1
                },
                "car": "defaults"
              },
              {
                "name": "geonames-append-4g-1node",
                "label": "add-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 0
                },
                "car": "4gheap"
              },
              {
                "name": "geonames-appendsorted-4g-1node",
                "label": "add-sorted-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-sorted-no-conflicts",
                "car": "4gheap"
              },
              {
                "name": "geonames-update-4g-1node",
                "label": "update-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-fast-with-conflicts",
                "car": "4gheap"
              }
            ]
          },
          {
            "name": "trial",
            "configurations": [
              {
                "name": "geonames-append-defaults-1node",
                "label": "add-defaults-security",
                "charts": [
                  "indexing",
                  "query"
                ],
                "challenge": "append-no-conflicts",
                "car": "defaults",
                "track-params": {
                  "max_num_segments": 1
                },
                "x-pack": [
                  "security"
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "track": "geopoint",
    "placement": 0,
    "flavors": [
      {
        "name": "default",
        "licenses": [
          {
            "name": "basic",
            "configurations": [
              {
                "name": "geopoint-append-4g-3nodes",
                "label": "add-4g-3nodes",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 1
                },
                "car": "4gheap",
                "node-count": 3
              },
              {
                "name": "geopoint-append-defaults-1node",
                "label": "add-defaults",
                "charts": [
                  "indexing",
                  "query",
                  "gc",
                  "io"
                ],
                "challenge": "append-no-conflicts",
                "car": "defaults"
              },
              {
                "name": "geopoint-append-4g-1node",
                "label": "add-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 0
                },
                "car": "4gheap"
              },
              {
                "name": "geopoint-append-4g-1node-with-jfr",
                "label": "add-4g-jfr",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 0
                },
                "car": "4gheap",
                "car-params": {
                  "additional_java_settings": [
                    "-XX:+UnlockDiagnosticVMOptions",
                    "-XX:+DebugNonSafepoints",
                    "-XX:FlightRecorderOptions=memorysize=256M",
                    "-XX:StartFlightRecording=disk=true,name=elasticsearch-continuous,maxsize=256M",
                    "-XX:+StartAttachListener"
                  ]
                }
              },
              {
                "name": "geopoint-update-4g-1node",
                "label": "update-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-fast-with-conflicts",
                "car": "4gheap"
              }
            ]
          },
          {
            "name": "trial",
            "configurations": [
              {
                "name": "geopoint-append-defaults-1node",
                "label": "add-defaults-security",
                "charts": [
                  "indexing",
                  "query"
                ],
                "challenge": "append-no-conflicts",
                "car": "defaults",
                "x-pack": [
                  "security"
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "track": "percolator",
    "placement": 0,
    "flavors": [
      {
        "name": "default",
        "licenses": [
          {
            "name": "basic",
            "configurations": [
              {
                "name": "percolator-append-4g-1node",
                "label": "add-4g",
                "charts": [
                  "query",
                  "gc",
                  "io"
                ],
                "challenge": "append-no-conflicts",
                "car": "4gheap"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "track": "nyc_taxis",
    "placement": 2,
    "flavors": [
      {
        "name": "default",
        "licenses": [
          {
            "name": "basic",
            "configurations": [
              {
                "name": "nyc_taxis-append-4g-3nodes",
                "label": "add-4g-3nodes",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "#COMMENT": "We need to be a bit more explicit here because nyc_taxis sets a bunch of other index settings as well which we don't want",
                "track-params": {
                  "index_settings": {
                    "index.number_of_replicas": 1,
                    "index.number_of_shards": 5
                  }
                },
                "car": "4gheap",
                "node-count": 3,
                "exclude-tasks": "force-merge,refresh-after-force-merge"
              },
              {
                "name": "nyc_taxis-append-4g-1node",
                "label": "add-4g",
                "charts": [
                  "indexing",
                  "query",
                  "gc",
                  "io"
                ],
                "challenge": "append-no-conflicts",
                "car": "4gheap",
                "track-params": {
                  "force_merge_max_num_segments": 1
                }
              },
              {
                "name": "nyc_taxis-appendsorted-4g-1node",
                "label": "add-sorted-4g",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-sorted-no-conflicts-index-only",
                "track-params": {
                  "number_of_replicas": 0
                },
                "car": "4gheap",
                "exclude-tasks": "force-merge,refresh-after-force-merge"
              }
            ]
          },
          {
            "name": "trial",
            "configurations": [
              {
                "name": "nyc_taxis-append-4g-3nodes",
                "label": "add-4g-security-3nodes",
                "charts": [
                  "indexing"
                ],
                "challenge": "append-no-conflicts-index-only",
                "#COMMENT": "We need to be a bit more explicit here because nyc_taxis sets a bunch of other index settings as well which we don't want",
                "track-params": {
                  "index_settings": {
                    "index.number_of_replicas": 1,
                    "index.number_of_shards": 5
                  }
                },
                "car": "4gheap",
                "x-pack": [
                  "security"
                ],
                "node-count": 3,
                "exclude-tasks": "force-merge,refresh-after-force-merge"
              },
              {
                "name": "nyc_taxis-append-4g-1node",
                "label": "add-4g-security",
                "charts": [
                  "indexing",
                  "query"
                ],
                "challenge": "append-no-conflicts",
                "car": "4gheap",
                "x-pack": [
                  "security"
                ],
                "track-params": {
                  "force_merge_max_num_segments": 1
                }
              },
              {
                "name": "nyc_taxis-ml-4g-1node",
                "label": "ml-4g",
                "charts": [
                  "ml_processing_time"
                ],
                "challenge": "append-ml",
                "car": "4gheap",
                "x-pack": [
                  "ml"
                ],
                "track-params": {
                   "ingest_percentage": 30
                }
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "track": "eql",
    "placement": 1,
    "flavors": [
      {
        "name": "default",
        "licenses": [
          {
            "name": "basic",
            "configurations": [
              {
                "name": "eql-16g-1node",
                "label": "add-16g",
                "charts": [
                  "query",
                  "gc"
                ],
                "challenge": "default",
                "car": "16gheap",
                "plugins": "mapper-size"
              }
            ]
          }
        ]
      }
    ]
  }
]
